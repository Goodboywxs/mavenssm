<html>
    <head>
        <title>form-test</title>
        <meta charset="utf-8">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    </head>
    <body>
        <h1>表单练习</h1>
        <p>每个表格由 table 标签开始</p>
        <p>每个表格行由 tr 标签开始</p>
        <p>每个表格数据由 td 标签开始</p>

        <h2>提交申请材料清单</h2>
        <form action="#" id="test-form">
            <table border="1">
                <tr>
                    <th colspan="2">提交申请材料清单</th>
                </tr>
                <tr>
                    <th>申请材料类型</th>
                    <td><input type="text" name="apply"></td>
                </tr>
                <tr>
                    <th>申请表</th>
                    <td><input type="text" name="file"></td>
                </tr>
                <tr>
                    <th>用户名</th>
                    <td><input type="text" id="username" name="username"></td>
                </tr>
                <tr>
                    <th>帐号</th>
                    <td><input type="number" id="number" name="number"></td>
                </tr>
                <tr>
                    <th>密码</th>
                    <td><input type="password" id="password" name="password"></td>
                </tr>
                <input type="hidden"  name="password2" id="password2"> <!-- 密码确认 -->
                <tr>
                    <th>时间</th>
                    <td><input type="time" id="time" name="time"></td>
                </tr>
                <tr>
                    <th>星期</th>
                    <td><input type="week" id="week" name="week"></td>
                </tr>
    
                <tr>
                    <th>城市</th>
                    <td><input type="radio" name="city" value="City1" checked=false>City1
                    <input type="radio" name="city" value="City2">City2</td>
                </tr>
                <tr>
                    <th>复选</th>
                    <td><input type="checkbox" name="checkbox" id="checkbox">复选</td>
                </tr>
                <tr>
                    <th>汽车</th>
                    <td><select name="cars" id="cars">
                        <option value="volvo">volvo</option>
                        <option value="saab">saab</option>
                        <option value="fiat">fiat</option>
                        
                    </select>
                    </td>
                </tr>
<!--                <tr>-->
<!--                    <th>提交</th>-->
<!--                    <td>-->
<!--                        <button type="submit">submit</button>-->
<!--                        <input type="reset" name="reset" id="reset"></td>-->
<!--                </tr>-->

            </table>
            <button id="btn1" type="button">提交</button>
            <button id="btn2" type="button">删除</button>
            <button id="btn3" type="button">修改</button>
        </form>

        <script type="text/javascript" src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/json3/3.3.2/json3.min.js"></script>
        <script type="text/javascript">
            $(function () {
                $('#btn1').click(function () {
                    console.log("将提交数据");
                    // var form = {};
                    // form["apply"] = document.forms["test-form"]["apply"].value;
                    // form["file"] = document.forms["test-form"]["file"].value;
                    // form.username = document.getElementById("username").value;
                    // form.number = document.getElementById("number").value;
                    // form.password = document.getElementById("password").value;
                    // form.time = document.forms["test-form"]["time"].value;
                    // form.week = document.forms["test-form"]["week"].value;
                    // form.city = document.forms["test-form"]["city"].value;
                    // form.cars = document.forms["test-form"]["cars"].value;
                    // var form_json = JSON.stringify(form,null,4);
                    // console.log(form_json);
                    var form2 = $('#test-form').serialize();
                    console.log(form2);
                    $.ajax({
                        type: "POST",
                        url: "/add",
                        data: form2,
                        dataType: "json",
                        async: false,
                        success: function(data){
                            alert("Write successfully.");
                        }
                    })
                })
                $('#btn2').click(function () {
                    console.log("将删除数据");
                    var form = {};
                    form.number = document.getElementById("number").value;
                    // var number = document.getElementById("number").value;
                    $.ajax({
                        type: "POST",
                        url: "/delete",
                        data: form,
                        dataType: "json",
                        async: false,

                        success: function(data){
                            alert("Delete successfully.");
                        }
                    })
                })
                $('#btn3').click(function () {
                    console.log("将修改数据");

                    var form2 = $('#test-form').serialize();
                    console.log(form2);

                    $.ajax({
                        type: "POST",
                        url: "/update",
                        data: form2,
                        dataType: "json",
                        async: false,
                        success: function(data){
                            alert("Update successfully.");
                        }
                    })
                })
            })
        function checkForm(){
//
        }
        </script>
        
    </body>
</html>